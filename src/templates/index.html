{% extends "layouts/base.html" %}

{% block title %} Dashboard {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}
<div class="content">
  <div class="row">
    {% if sentiment_summary %}
    <div class="container-fluid">
      <div class="row">
        <div class="col-12">
          <div class="card mb-4">
            <div class="card-body">
              <h4>Product ID: {{ product_id }}</h4>
              <ul>
                <li><strong>Average Sentiment Score:</strong> {{ sentiment_summary.average_score }}</li>
                <li class="text-success"><strong>Positive Reviews:</strong> {{ sentiment_summary.positive }}</li>
                <li class="text-secondary"><strong>Neutral Reviews:</strong> {{ sentiment_summary.neutral }}</li>
                <li class="text-danger"><strong>Negative Reviews:</strong> {{ sentiment_summary.negative }}</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% endif %}


  </div>
  <div class="row">
    <div class="col-12">
      <div class="card card-chart">
        <div class="card-header">
          <div class="row">
            <div class="col-sm-6 text-left">
              <h5 class="card-category">Total Shipments</h5>
              <h2 class="card-title">Performance</h2>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="chart-area text-center" style="height: auto; overflow: visible;">
            {% if chart_filename %}
              <img src="{{ url_for('static', filename=chart_filename) }}" alt="Sentiment Chart" class="img-fluid" style="max-width: 100%; height: auto;">
            {% else %}
              <p class="text-muted">No chart available. Select a product to view performance.</p>
            {% endif %}
          </div>


        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
  <table class="table tablesorter">
    <thead class="text-primary">
      <tr>
        <th>User</th>
        <th>Sentiment Score</th>
        <th>Review</th>
      </tr>
    </thead>
    <tbody>
      {% for review in reviews %}
      <tr>
        <td><a href="/user_reviews/{{ review.ProfileName }}">{{ review.ProfileName }}</a></td>
        <td>{{ review.SentimentScore }}</td>
        <td>{{ review.Text }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

  <!-- <div class="card-body">
  {% if reviews|length > 0 %}
  <div class="table-responsive">
    <table class="table tablesorter">
      <thead class="text-primary">
        <tr>
          <th>User</th>
          <th>Sentiment Score</th>
          <th>Review</th>
        </tr>
      </thead>
      <tbody>
        {% for review in reviews %}
        <tr>
          <td>
            <a href="/user_reviews/{{ review.ProfileName }}" class="text-decoration-none">
              {{ review.ProfileName }}
            </a>
          </td>
          <td>{{ review.SentimentScore }}</td>
          <td>{{ review.Text }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
  <p class="text-muted">No reviews available.</p>
  {% endif %}
</div> -->


  
</div>
{% endblock content %}
